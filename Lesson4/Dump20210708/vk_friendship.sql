-- MySQL dump 10.13  Distrib 8.0.25, for Win64 (x86_64)
--
-- Host: localhost    Database: vk
-- ------------------------------------------------------
-- Server version	8.0.25-0ubuntu0.20.04.1

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!50503 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `friendship`
--

DROP TABLE IF EXISTS `friendship`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `friendship` (
  `user_id` int unsigned NOT NULL COMMENT 'Ссылка на инициатора дружеских отношений',
  `friend_id` int unsigned NOT NULL COMMENT 'Ссылка на получателя приглашения дружить',
  `friendship_status` enum('FRIENDSHIP','FOLLOWING','BLOCKED') CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT NULL COMMENT 'Cтатус (текущее состояние) отношений',
  `requested_at` datetime DEFAULT CURRENT_TIMESTAMP COMMENT 'Время отправления приглашения дружить',
  `confirmed_at` datetime DEFAULT NULL COMMENT 'Время подтверждения приглашения',
  `created_at` datetime DEFAULT CURRENT_TIMESTAMP COMMENT 'Время создания строки',
  `updated_at` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Время обновления строки',
  PRIMARY KEY (`user_id`,`friend_id`) COMMENT 'Составной первичный ключ',
  KEY `fk_friendship_friend_id` (`friend_id`),
  CONSTRAINT `fk_friendship_friend_id` FOREIGN KEY (`friend_id`) REFERENCES `users` (`id`),
  CONSTRAINT `fk_friendship_user_id` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='Таблица дружбы пользователей';
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `friendship`
--

LOCK TABLES `friendship` WRITE;
/*!40000 ALTER TABLE `friendship` DISABLE KEYS */;
INSERT INTO `friendship` VALUES (1,1,'FOLLOWING','2007-02-17 17:33:42','2013-04-24 06:46:16','1979-11-28 11:09:36','1997-12-14 19:14:41'),(2,2,'FOLLOWING','1971-05-22 22:08:22','1985-03-25 04:10:35','1985-02-25 20:30:44','1998-01-18 11:12:34'),(3,3,'FRIENDSHIP','2016-12-03 08:33:51','1994-10-28 05:50:47','2020-07-18 22:03:56','1986-11-08 20:47:55'),(4,4,'FOLLOWING','1981-07-25 09:14:31','2021-05-21 04:19:55','1992-01-22 05:06:14','1980-02-05 01:09:06'),(5,5,'FOLLOWING','1976-01-17 09:30:35','2016-03-05 23:16:42','2005-08-20 10:42:25','1987-08-24 05:51:41'),(6,6,'FRIENDSHIP','2003-05-09 19:40:11','1991-04-15 16:57:09','1975-08-09 21:26:57','1987-02-25 01:46:03'),(7,7,'BLOCKED','2021-07-07 04:52:59','2002-10-12 07:50:28','1980-06-04 09:36:36','1977-10-11 08:25:24'),(8,8,'FRIENDSHIP','1977-02-05 16:32:01','1988-05-15 09:15:42','2012-01-04 18:51:00','1974-05-22 05:32:38'),(9,9,'FOLLOWING','1972-05-08 04:18:47','1977-10-25 17:39:10','1999-05-27 02:28:58','1970-04-17 20:27:39'),(10,10,'FRIENDSHIP','1974-01-16 14:50:20','2018-12-28 19:54:39','1978-01-18 09:59:29','1988-02-02 22:14:37'),(11,11,'FRIENDSHIP','2006-05-07 07:03:54','1998-07-29 17:32:50','1976-03-21 04:30:09','1998-07-19 02:53:22'),(12,12,'FOLLOWING','2016-11-15 14:13:52','1973-04-28 20:19:29','1987-02-20 21:19:28','2000-08-12 08:10:45'),(13,13,'FOLLOWING','2011-07-27 00:21:47','2019-02-25 14:32:43','2014-02-13 19:50:42','1992-03-07 13:27:38'),(14,14,'BLOCKED','1979-10-13 08:47:27','2014-12-18 13:13:29','1981-02-21 09:19:41','1987-06-29 03:58:31'),(15,15,'FRIENDSHIP','1983-04-18 20:58:06','1978-09-22 02:16:45','1984-12-08 20:47:05','2015-06-12 22:51:02'),(16,16,'BLOCKED','1998-02-28 01:04:27','1985-05-03 17:54:58','1978-02-24 04:09:36','1989-07-09 19:42:28'),(17,17,'FOLLOWING','1987-05-30 20:15:06','1970-01-09 17:26:30','1993-06-28 16:25:11','2019-07-21 23:05:55'),(18,18,'FOLLOWING','2000-04-09 17:44:07','1982-10-10 23:14:16','1981-05-28 17:36:14','1983-04-07 17:48:26'),(19,19,'BLOCKED','2007-04-01 21:01:13','2003-02-10 12:43:30','2010-06-20 17:29:16','2011-12-19 12:57:17'),(20,20,'FOLLOWING','1992-03-29 16:32:54','1977-06-26 09:07:01','2021-07-08 00:43:15','2013-11-20 23:25:45'),(21,21,'BLOCKED','2012-03-15 07:41:48','1991-08-22 17:14:20','1985-01-16 07:29:56','2011-10-07 11:20:37'),(22,22,'FRIENDSHIP','2018-05-19 09:28:53','1978-12-13 22:06:42','2005-06-27 04:06:23','2021-02-20 13:29:45'),(23,23,'FRIENDSHIP','1986-11-10 16:04:21','1974-02-05 08:09:18','1988-07-29 03:27:22','1984-09-10 00:45:20'),(24,24,'FRIENDSHIP','1973-07-20 22:48:31','1976-05-16 22:01:48','2013-06-20 08:52:09','1980-08-30 19:20:44'),(25,25,'BLOCKED','2016-06-22 19:06:02','1983-06-21 03:18:14','2014-08-25 10:24:19','2011-09-26 06:09:30'),(26,26,'FOLLOWING','1993-07-30 14:08:52','1991-01-01 09:41:35','1970-01-20 13:30:23','2021-03-25 08:48:00'),(27,27,'FRIENDSHIP','1985-12-25 15:15:45','2019-07-17 00:40:03','1981-09-22 17:47:41','2000-03-05 00:59:38'),(28,28,'FRIENDSHIP','2006-03-26 23:58:29','1989-01-24 16:47:22','2020-11-18 14:31:50','1979-01-18 11:07:42'),(29,29,'FOLLOWING','2006-05-04 21:43:38','1970-04-11 16:02:19','2013-07-11 23:03:13','2004-04-06 15:10:12'),(30,30,'FRIENDSHIP','1992-04-15 02:35:59','2019-11-28 07:00:09','1993-06-28 06:39:55','2006-10-26 23:24:13'),(31,31,'FOLLOWING','1988-11-17 22:12:30','1991-08-18 22:24:46','1995-02-08 05:08:25','2001-10-11 16:21:28'),(32,32,'BLOCKED','2004-01-16 14:55:44','2006-11-05 00:25:18','1984-02-01 12:59:01','1972-12-14 12:00:56'),(33,33,'BLOCKED','2005-04-11 03:55:44','1986-02-05 01:12:32','1981-12-05 02:30:21','1973-08-05 20:02:44'),(34,34,'BLOCKED','1992-07-05 08:46:30','1989-03-03 04:03:39','1971-02-20 04:22:24','2009-03-04 00:23:02'),(35,35,'FOLLOWING','2012-02-27 17:44:07','1970-06-18 02:20:03','1971-04-28 19:09:14','1974-06-27 00:12:47'),(36,36,'FOLLOWING','2016-12-24 04:05:42','1981-07-15 23:44:32','2016-12-23 08:58:46','2004-07-12 14:45:31'),(37,37,'BLOCKED','2019-07-27 02:05:28','1999-05-22 11:39:52','1980-06-27 17:45:09','2012-05-05 05:19:41'),(38,38,'FRIENDSHIP','2012-03-25 18:34:47','1977-08-19 08:45:30','1989-02-26 01:15:35','1970-01-13 12:49:03'),(39,39,'FRIENDSHIP','1999-09-17 17:04:51','2003-12-23 21:07:14','1980-10-31 01:54:07','1989-09-20 05:21:25'),(40,40,'BLOCKED','1977-02-19 18:38:24','2006-03-01 16:06:33','2005-10-29 13:29:39','1977-01-30 23:27:11'),(41,41,'BLOCKED','1977-11-13 03:18:42','1994-12-03 12:55:54','2000-10-29 07:40:51','1986-07-05 06:45:02'),(42,42,'FOLLOWING','2005-12-21 03:24:44','1986-10-28 09:58:43','1999-04-11 17:45:13','1981-01-08 11:11:33'),(43,43,'FOLLOWING','2006-02-02 06:01:20','1970-09-17 20:02:43','1985-09-01 09:05:23','2013-09-29 14:26:18'),(44,44,'BLOCKED','1986-09-01 23:05:05','1985-02-27 05:20:20','1992-12-24 18:01:08','1974-10-19 15:36:20'),(45,45,'BLOCKED','2009-09-05 19:09:55','1993-07-29 09:46:13','1994-12-05 06:30:13','1986-06-10 08:29:03');
/*!40000 ALTER TABLE `friendship` ENABLE KEYS */;
UNLOCK TABLES;
/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on 2021-07-08 15:38:19
